<!doctype html>
<html lang = "zh">
<head>
	<meta charset = "UTF-8">
	<meta name = "viewport"
	      content = "width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv = "X-UA-Compatible" content = "ie=edge">
	<link rel = "stylesheet" href = "style.css">
	<title>checkBox and SelectOption </title>
	<script type = "text/javascript">
        function SelectAll() {
            // console.log('checked');
            let x = document.getElementsByName("cbox");
            let sa = document.getElementById("sa");
            console.log(x.length);
            for (let i = 0; i < x.length; i++) {
                // if(x[i].checked)
                // {
                //     console.log(x[i].value+"..."+x[i].checked);
                // }
                x[i].checked = sa.checked;
            }
        }

        function unSelect() {
            let x = document.getElementsByName("cbox");
            // let usa = document.getElementById("usa");
            for (let i = 0; i < x.length; i++) {
                x[i].checked = !x[i].checked;
            }
        }

        let address = [
            ["南崁", "大園", "觀音", "龜山", "蘆竹"],
            ["a", "b", "c"],
            [1.2, 2.3, 3.4]
        ]

        function list01() {
            // let x = document.getElementsByName("sss");
            // console.log(x.length);
            // for (let i = 1; i < x.length; i++) {
            //     if (x[i].selected) {
            //         console.log(x[i].value + "." + x[i].text);
            //     }
            // }
            let x = document.getElementById("se");
            let newse = document.getElementById("newse");
            // console.log(x[x.value].text);
            newse.options.length=0;
            let xl = x.options;
            for (let i = 1; i < xl.length; i++) {
                if (x[i].selected) {
                    console.log(x[i].value + "." + x[i].text)
                    let len = address[i - 1].length;
                    for (let tt = 0; tt < len; tt++) {
                        let tmp = document.createElement("option");
                        tmp.value = tt;
                        tmp.text = address[i - 1][tt];
                        tmp.onchange = function () {
                            console.log("abc");
                        }
                        newse.appendChild(tmp);
                    }
                }
            }
        }

	</script>
</head>
<body>

<ul>
	<li>
		<input type = "checkbox" name = "" id = "sa" onclick = "SelectAll()"><strong>全選</strong>
		<input type = "checkbox" name = "" id = "usa" onclick = "unSelect()"><strong>反選</strong>
	</li>
	<hr />
	<li><input type = "checkbox" name = "cbox" id = "" value = "1">item 1</li>
	<li><input type = "checkbox" name = "cbox" id = "" value = "2">item 2</li>
	<li><input type = "checkbox" name = "cbox" id = "" value = "3">item 3</li>
	<li><input type = "checkbox" name = "cbox" id = "" value = "4">item 4</li>
	<li><input type = "checkbox" name = "cbox" id = "" value = "5">item 5</li>
	<li><input type = "checkbox" name = "cbox" id = "" value = "6">item 6</li>
	<li><input type = "checkbox" name = "cbox" id = "" value = "7">item 7</li>
	<hr>
	<hr>
	<li>
		<select name = "sel" id = "se" onchange = "list01()">
			<option value = "0">請選擇----</option>
			<option value = "1">桃園市</option>
			<option value = "2">台北市</option>
			<option value = "3">基隆市</option>
			<option value = "4">新竹市</option>
		</select>
		<select id = "newse"></select>
	</li>
	<li></li>
	<li></li>
	<li></li>
</ul>


</body>
</html>